# ============================================
# DATABASE - SUPABASE
# ============================================

# Connection Pooling (para runtime - Next.js, tests)
# Usa el pooler de Supabase en modo Transaction (puerto 6543)
# Formato: postgresql://postgres.PROJECT_REF:[PASSWORD]@[REGION].pooler.supabase.com:6543/postgres
# NOTA: El código en src/lib/db.ts automáticamente agrega parámetros pgbouncer=true
#       y statement_cache_size=0 para evitar errores de prepared statements en Vercel
DATABASE_URL="postgresql://postgres.vmsqbguwjjpusedhapqo:[YOUR-PASSWORD]@aws-1-us-west-1.pooler.supabase.com:6543/postgres"

# Direct Connection (para migraciones de Prisma)
# Conexión directa a PostgreSQL (puerto 5432)
# Formato: postgresql://postgres.PROJECT_REF:[PASSWORD]@[REGION].compute.amazonaws.com:5432/postgres
DIRECT_URL="postgresql://postgres.vmsqbguwjjpusedhapqo:[YOUR-PASSWORD]@aws-1-us-west-1.compute.amazonaws.com:5432/postgres"

# ⚠️ IMPORTANTE: Si tu contraseña contiene caracteres especiales, debes URL-encodearlos
# Ejemplos: * = %2A, < = %3C, @ = %40, : = %3A
# Ver tabla completa en: SUPABASE_SETUP.md

# ============================================
# CLERK - AUTENTICACIÓN
# ============================================
# Documentación: https://clerk.com/docs/nextjs

# === FASE 1: Setup Básico (REQUERIDAS AHORA) ===
# Obtener de: https://dashboard.clerk.com → API Keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...

# === FASE 2: Webhook (SOLO cuando implementes sincronización con DB) ===
# NO configurar todavía - El secret solo existe después de crear el webhook en Dashboard
# Pasos futuros:
#   1. Implementar código de /api/webhooks/clerk
#   2. Deployar a Vercel o exponer con ngrok
#   3. Crear webhook en Dashboard con la URL activa
#   4. Copiar el Signing Secret generado
# CLERK_WEBHOOK_SECRET=whsec_...

# Stripe (Pagos)
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# AWS Credentials
AWS_REGION="us-west-2"
AWS_ACCESS_KEY_ID="AKIA..."
AWS_SECRET_ACCESS_KEY="..."

# AWS S3 (Almacenamiento de medios)
AWS_S3_BUCKET_MEDIA="reparaya-media-dev"

# AWS SES (Emails transaccionales)
# Configuración para envío de correos
AWS_SES_SENDER_EMAIL="noreply@reparaya.com"

# Amazon Location Service (Geocodificación y distancias)
# TODO: Definir nombres de recursos de Location Service
AWS_LOCATION_PLACE_INDEX="reparaya-places"
AWS_LOCATION_ROUTE_CALCULATOR="reparaya-routes"

# Next.js
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Configuraciones de negocio (pueden moverse a DB en producción)
# Porcentaje de recargo al cliente (R% en BR-001)
PLATFORM_MARKUP_PERCENTAGE="10"
# Porcentaje de comisión de plataforma (C% en BR-002)
PLATFORM_COMMISSION_PERCENTAGE="15"
# Porcentaje de anticipo cobrado al reservar (A% en BR-003)
BOOKING_ADVANCE_PERCENTAGE="30"
